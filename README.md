# 屏幕录制应用使用说明

## 项目概述

这是一个基于Electron、Vue 3和Node.js开发的桌面屏幕录制应用，具有以下功能特点：

1. 可自选录屏帧数（15/24/30/60 FPS）
2. 可自定义录屏视频保存位置
3. 可选择是否开启系统声音录制
4. 支持设置快捷键结束录屏
5. 录屏时显示悬浮框，展示录制时长和文件大小
6. 录屏结束后对生成的录屏文件进行哈希计算

## 技术实现

本应用使用了以下技术：

- **Electron**：跨平台桌面应用框架
- **Vue 3**：前端UI框架
- **Node.js**：后端运行环境
- **desktopCapturer API**：用于获取屏幕源和录制视频
- **MediaRecorder API**：用于录制媒体流
- **crypto模块**：用于计算文件哈希

## 项目结构

```
screen-recorder-app/
├── src/
│   ├── main/
│   │   └── main.js         # 主进程代码
│   └── renderer/
│       ├── index.html      # 主窗口HTML
│       ├── renderer.js     # 渲染进程代码
│       └── floating.html   # 悬浮窗HTML
├── package.json            # 项目配置
├── architecture.md         # 架构设计文档
├── tech-research.md        # 技术调研文档
└── todo.md                 # 开发任务清单
```

## 使用方法

### 安装依赖

```bash
npm install
```

### 启动应用

```bash
npm start
```

### 打包应用

```bash
npm run build
```

## 功能使用说明

1. **选择屏幕源**：
   - 点击"选择屏幕源"按钮
   - 从列表中选择要录制的屏幕或窗口

2. **设置录制参数**：
   - 帧率：从下拉菜单中选择（15/24/30/60 FPS）
   - 保存位置：点击"浏览..."按钮选择视频保存路径
   - 系统声音：勾选"录制系统声音"复选框开启音频录制
   - 快捷键：从下拉菜单中选择结束录制的快捷键

3. **开始录制**：
   - 点击"开始录制"按钮
   - 录制开始后会显示悬浮窗，展示录制时长和文件大小

4. **结束录制**：
   - 点击"停止录制"按钮或使用设定的快捷键
   - 录制结束后会自动保存视频文件并计算哈希值

## 开发说明

### 主进程 (main.js)

主进程负责：
- 创建主窗口和悬浮窗
- 处理屏幕源获取
- 管理全局快捷键
- 更新悬浮窗信息
- 计算文件哈希

### 渲染进程 (renderer.js)

渲染进程负责：
- 用户界面交互
- 屏幕源选择和预览
- 录制参数设置
- 媒体流获取和录制
- 视频文件保存

### 悬浮窗 (floating.html)

悬浮窗负责：
- 显示录制状态
- 显示录制时长
- 显示文件大小

## 注意事项

1. 录制系统声音在不同操作系统上可能需要额外权限
2. 高帧率录制对系统性能要求较高
3. 视频保存格式为WebM，兼容大多数现代浏览器和播放器
4. 哈希计算使用SHA-256算法，可用于验证文件完整性
